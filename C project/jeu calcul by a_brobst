#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <math.h>

int haut = 100;
int bas = 1;
int maxp = 4;
int minp = 1;
int recommencerPartie = 0;
int choixOperateurs = 0;
int premierNombre = 0;
int deuxiemeNombre = 0;
int manche = 4;
int resultat = 0;
int chance = 4;
int nombreDeVie = 4;
int reponsePlayer = 0;
int mancheWin = 0;
int randpuissance = 0;


int main(int argc, char const *argv[])
{
  do
  {
    srand (time(NULL));
    printf("\n===== MENU OPERATIONS =====\n");
    printf("\n1. Addition\n");
    printf("\n2. Soustraction\n");
    printf("\n3. Multiplication\n");
    printf("\n4. Division\n");
    printf("\n5. Puissance\n");
    printf("\nFaites votre choix : ");
    scanf("%d", &choixOperateurs);

    switch (choixOperateurs)
    {
      case 1 :
      printf("\nVous avez donc choisi l'addition, vous aurez 4 chances pour trouver les bonnes reponses sur une serie de 4 manches sinon vous aurez perdu.\n\n");
      do
      {
        premierNombre = (rand() % (haut - bas + 1 )) + bas;
        deuxiemeNombre = (rand() % (haut - bas + 1 )) + bas;
        resultat = premierNombre + deuxiemeNombre;
        printf("\nLe calcul est  %d + %d\n", premierNombre, deuxiemeNombre);
        printf("\nAlors quel est votre reponse ? ");
        scanf("%d", &reponsePlayer);
        if (reponsePlayer == resultat)
        {
          manche --;
          mancheWin ++;
          printf("\nBravo vous avez trouve la bonne reponse.Il vous reste %d vie(s) et %d manche(s)\n\n", nombreDeVie, manche);
        }
        else if (reponsePlayer != resultat)
        {
          nombreDeVie --;
          manche --;
          printf("\nCe n'est pas la bonne reponse.C'etait %d.Il ne vous reste plus que %d vie(s) et %d manche(s)\n", resultat, nombreDeVie, manche);
        }
        else
        {
          printf("\nProblem.\n");
        }

      }while(nombreDeVie > 0 && manche > 0);
      if (mancheWin > 0 && nombreDeVie > 0)
      {
        printf("\nBravo votre score est de %d bonne reponse sur 4 et il vous restait %d vie(s)! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n", mancheWin, nombreDeVie);
        scanf("%d", &recommencerPartie);
      }
      else if (mancheWin == 0 && nombreDeVie == 0)
      {
        printf("\nVous n'avez donne aucune bonne reponse et il ne vous reste plus de vie, vous etes nulle en math ! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n");
        scanf("%d", &recommencerPartie);
      }
      break;

      case 2 :
        printf("\nVous avez donc choisi la soustraction, vous aurez 4 chances pour trouver les bonnes reponses sur une serie de 4 manches sinon vous arez perdu.\n\n");
        do
        {
          premierNombre = (rand() & (haut - bas + 1)) + bas;
          deuxiemeNombre = (rand() & (haut - bas + 1)) + bas;
          resultat = premierNombre - deuxiemeNombre;

          printf("\nLe calcul est %d - %d\n", premierNombre, deuxiemeNombre);
          printf("\nAlors quel est votre reponse ? ");
          scanf("%d", &reponsePlayer);
          if (reponsePlayer == resultat)
          {
            manche--;
            mancheWin++;
            printf("\nBravo vous avez trouve la bonne reponse.Il vous reste %d vie(s) et %d manche(s)\n\n", nombreDeVie, manche);
          }
          else if (reponsePlayer != resultat)
          {
            nombreDeVie--;
            manche--;
            printf("\nCe n'est pas la bonne reponse.C'etait %d.Il ne vous reste plus que %d vie(s) et %d manche(s)\n", resultat, nombreDeVie, manche);
          }
          else
          {
            printf("\nProblem.\n");
          }

        } while (nombreDeVie > 0 && manche > 0);
        if (mancheWin > 0 && nombreDeVie > 0)
        {
          printf("\nBravo votre score est de %d bonne reponse sur 4 et il vous restait %d vie(s)! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n", mancheWin, nombreDeVie);
          scanf("%d", &recommencerPartie);
        }
        else if (mancheWin == 0 && nombreDeVie == 0)
        {
          printf("\nVous n'avez donne aucune bonne reponse et il ne vous reste plus de vie, vous etes nulle en math ! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n");
          scanf("%d", &recommencerPartie);
        }
        break;

        case 3 :
        printf("\nVous avez donc choisi la multiplication, vous aurez 4 chances pour trouver les bonnes reponses sur une serie de 4 manches sinon vous aurez perdu.\n\n");
        do
        {
          premierNombre = (rand() % (haut - bas + 1 )) + bas;
          deuxiemeNombre = (rand() % (haut - bas + 1 )) + bas;
          resultat = premierNombre * deuxiemeNombre;
          printf("\nLe calcul est  %d * %d\n", premierNombre, deuxiemeNombre);
          printf("\nAlors quel est votre reponse ? ");
          scanf("%d", &reponsePlayer);
          if (reponsePlayer == resultat)
          {
            manche --;
            mancheWin ++;
            printf("\nBravo vous avez trouve la bonne reponse.Il vous reste %d vie(s) et %d manche(s)\n\n", nombreDeVie, manche);
          }
          else if (reponsePlayer != resultat)
          {
            nombreDeVie --;
            manche --;
            printf("\nCe n'est pas la bonne reponse.C'etait %d.Il ne vous reste plus que %d vie(s) et %d manche(s)\n", resultat, nombreDeVie, manche);
          }
          else
          {
            printf("\nProblem.\n");
          }

        }while(nombreDeVie > 0 && manche > 0);
        if (mancheWin > 0 && nombreDeVie > 0)
        {
          printf("\nBravo votre score est de %d bonne reponse sur 4 et il vous restait %d vie(s)! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n", mancheWin, nombreDeVie);
          scanf("%d", &recommencerPartie);
        }
        else if (mancheWin == 0 && nombreDeVie == 0)
        {
          printf("\nVous n'avez donne aucune bonne reponse et il ne vous reste plus de vie, vous etes nulle en math ! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n");
          scanf("%d", &recommencerPartie);
        }
        break;

        case 4 :
        printf("\nVous avez donc choisi la division, vous aurez 4 chances pour trouver les bonnes reponses sur une serie de 4 manches sinon vous aurez perdu.\n\n");
        do
        {
          premierNombre = (rand() % (haut - bas + 1 )) + bas;
          deuxiemeNombre = (rand() % (haut - bas + 1 )) + bas;
          resultat = premierNombre / deuxiemeNombre;
          printf("\nLe calcul est  %d / %d\n", premierNombre, deuxiemeNombre);
          printf("\nAlors quel est votre reponse ? ");
          scanf("%d", &reponsePlayer);
          if (reponsePlayer == resultat)
          {
            manche --;
            mancheWin ++;
            printf("\nBravo vous avez trouve la bonne reponse.Il vous reste %d vie(s) et %d manche(s)\n\n", nombreDeVie, manche);
          }
          else if (reponsePlayer != resultat)
          {
            nombreDeVie --;
            manche --;
            printf("\nCe n'est pas la bonne reponse.C'etait %d.Il ne vous reste plus que %d vie(s) et %d manche(s)\n", resultat, nombreDeVie, manche);
          }
          else
          {
            printf("\nProblem.\n");
          }

        }while(nombreDeVie > 0 && manche > 0);
        if (mancheWin > 0 && nombreDeVie > 0)
        {
          printf("\nBravo votre score est de %d bonne reponse sur 4 et il vous restait %d vie(s)! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n", mancheWin, nombreDeVie);
          scanf("%d", &recommencerPartie);
        }
        else if (mancheWin == 0 && nombreDeVie == 0)
        {
          printf("\nVous n'avez donne aucune bonne reponse et il ne vous reste plus de vie, vous etes nulle en math ! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n");
          scanf("%d", &recommencerPartie);
        }
        break;

        case 5 :
        printf("\nVous avez donc choisi la puissance, vous aurez 4 chances pour trouver les bonnes reponses sur une serie de 4 manches sinon vous aurez perdu.\n\n");
        do
        {
          premierNombre = (rand() % (haut - bas + 1 )) + bas;
          randpuissance = (rand() % (maxp - minp + 1 )) + minp;
          resultat = pow (premierNombre,randpuissance) ;
          printf("pow= %d, resultat = %d", randpuissance, resultat);
          printf("\nLe calcul est puissance (%d) de %d\n", randpuissance, premierNombre);
          printf("\nAlors quel est votre reponse ? ");
          scanf("%d", &reponsePlayer);
          if (reponsePlayer == resultat)
          {
            manche --;
            mancheWin ++;
            printf("\nBravo vous avez trouve la bonne reponse.Il vous reste %d vie(s) et %d manche(s)\n\n", nombreDeVie, manche);
          }
          else if (reponsePlayer != resultat)
          {
            nombreDeVie --;
            manche --;
            printf("\nCe n'est pas la bonne reponse.C'etait %d.Il ne vous reste plus que %d vie(s) et %d manche(s)\n", resultat, nombreDeVie, manche);
          }
          else
          {
            printf("\nProblem.\n");
          }

        }while(nombreDeVie > 0 && manche > 0);
        if (mancheWin > 0 && nombreDeVie > 0)
        {
          printf("\nBravo votre score est de %d bonne reponse sur 4 et il vous restait %d vie(s)! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n", mancheWin, nombreDeVie);
          scanf("%d", &recommencerPartie);
        }
        else if (mancheWin == 0 && nombreDeVie == 0)
        {
          printf("\nVous n'avez donne aucune bonne reponse et il ne vous reste plus de vie, vous etes nulle en math ! Si vous voulez recommencez une partie pour tenter de vous ameliorer tapez sur 1 sinon sur 0\n");
          scanf("%d", &recommencerPartie);
        }
        break;

        default :
        printf("Second problem");
        break;
    }
  }while (recommencerPartie);
  return 0;
}
